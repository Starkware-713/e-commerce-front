<section class="cliente-container">
  @if (loading) {
    <div class="loading">Cargando...</div>
  } @else {
    <div class="dashboard-icons" style="display: flex; gap: 1rem; margin-bottom: 1.5rem;">
      👤
      🛍️
      ⚙️
    </div>
  }
    <h1>¡Bienvenido, {{ user?.name }}!</h1>
    <div class="cliente-perfil">
      <img src="https://ui-avatars.com/api/?name={{user?.name}}+{{user?.lastname}}&background=random" alt="Foto de perfil" />
      <div>
        @if (!editingProfile) {
          <h2>{{ user?.name }} {{ user?.lastname }}</h2>
          <p>Email: {{ user?.email }}</p>
          <button class="edit-button" (click)="startEditProfile()">Editar perfil</button>
          <div *ngIf="profileMessage" class="success-message">{{ profileMessage }}</div>
          <div *ngIf="profileError" class="error-message">{{ profileError }}</div>
        } @else {
          <form (ngSubmit)="saveProfile()" class="edit-profile-form">
            <label>Nombre:
              <input type="text" [(ngModel)]="profileForm.name" name="name" required />
            </label>
            <label>Apellido:
              <input type="text" [(ngModel)]="profileForm.lastname" name="lastname" required />
            </label>
            <label>Email:
              <input type="email" [(ngModel)]="profileForm.email" name="email" required />
            </label>
            <div class="edit-profile-actions">
              <button type="submit" class="save-btn">Guardar</button>
              <button type="button" class="cancel-btn" (click)="cancelEditProfile()">Cancelar</button>
            </div>
            <div *ngIf="profileMessage" class="success-message">{{ profileMessage }}</div>
            <div *ngIf="profileError" class="error-message">{{ profileError }}</div>
          </form>
        }
      </div>
    </div>