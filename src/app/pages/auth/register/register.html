
<div class="register-container">
    <div class="container">
        <h2>Registro de Usuario</h2>
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
            <div class="margin">
                <label for="name">Nombre</label>
                <input  
                    type="text"  
                    id="name" 
                    formControlName="name" 
                    placeholder="Ingrese su nombre"
                >
                @if(name?.touched && name?.errors?.['required']){
                <div class="error-message">
                    El nombre es requerido.
                </div>
                }
                @if(name?.touched && name?.errors?.['minlength']){
                <div class="error-message">
                    El nombre debe tener al menos 2 caracteres.
                </div>
                }
            </div>

            <div class="margin">
                <label for="lastname">Apellido</label>
                <input 
                    type="text" 
                    id="lastname"
                    formControlName="lastname" 
                    placeholder="Ingrese su apellido"
                >
                @if(lastname?.touched && lastname?.errors?.['required']){
                <div class="error-message">
                    El apellido es requerido.
                </div>
                }
                @if(lastname?.touched && lastname?.errors?.['minlength']){
                <div class="error-message">
                    El apellido debe tener al menos 2 caracteres.
                </div>
                }
            </div>

            <div class="margin">
                <label for="email">Correo Electrónico</label>
                <input 
                    type="email" 
                    id="email" 
                    formControlName="email" 
                    placeholder="Ingrese su correo electrónico"
                >
                @if(email?.touched && (email?.errors?.['required'] || email?.errors?.['email'] || email?.errors?.['pattern'])){
                <div class="error-message">
                    Por favor, ingrese un correo electrónico válido.
                </div>
                }
                @if(email?.errors?.['alreadyExists']){
                <div class="error-message">
                    Este correo electrónico ya está registrado.
                </div>
                }
            </div>

            <div class="margin">                <label for="password">Contraseña</label>
                <input 
                    type="password" 
                    id="password" 
                    formControlName="password" 
                    placeholder="Ingrese su contraseña"
                >
                @if(password?.touched && password?.invalid){
                <div class="error-message">
                    {{ getPasswordErrorMessage() }}
                </div>
                }
            </div>

            <div class="margin">
                <label for="confirmPassword">Confirmar Contraseña</label>
                <input 
                    type="password" 
                    id="confirmPassword" 
                    formControlName="confirmPassword" 
                    placeholder="Confirme su contraseña"
                >
                @if(confirmPassword?.touched && confirmPassword?.invalid){
                <div class="error-message">
                    {{ getConfirmPasswordErrorMessage() }}
                </div>
                }
            </div>

            <button 
                type="submit" 
                [disabled]="!registerForm.valid || submitted"
                class="submit-button"
            >
                {{ submitted ? 'Registrando...' : 'Registrarse' }}
            </button>
        </form>
    </div>
</div>
